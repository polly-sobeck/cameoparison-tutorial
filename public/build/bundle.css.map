{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Card.svelte",
    "../../Game.svelte",
    "../../Welcome.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport { onMount } from 'svelte';\n\timport Welcome from './screens/Welcome.svelte';\n\timport Game from './screens/Game.svelte';\n\timport { select } from './select.js';\n\t\n\tlet celebs_promise;\n\n\tlet state = 'welcome'; // or playing\n\tlet selection;\n\n\tconst start = async (e) => {\n\t\tconst { celebs, lookup} = await celebs_promise;\n\n\t\tselection = select(celebs, lookup, e.detail.category.slug);\n\t\tstate = 'playing';\n\t};\n\n\tconst load_celebs = async () => {\n\t\tconst res = await fetch('https://cameo-explorer.netlify.app/celebs.json');\n\t\tconst data = await res.json();\n\n\t\tconst lookup = new Map();\n\n\t\tdata.forEach(c => {\n\t\t\tlookup.set(c.id, c);\n\t\t});\n\n\t\tconst subset = new Set();\n\t\tdata.forEach(c => {\n\t\t\tif (c.reviews >= 50) {\n\t\t\t\tsubset.add(c);\n\t\t\t\tc.similar.forEach(id => {\n\t\t\t\t\tsubset.add(lookup.get(id));\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tcelebs: Array.from(subset),\n\t\t\tlookup\n\t\t};\n\t};\n\n\tonMount(() => {\n\t\tcelebs_promise = load_celebs();\n\t});\n</script>\n\n<main>\n\t{#if state === 'welcome'}\n\t\t<Welcome on:select={start}/>\n\t{:else if state === 'playing'}\n\t\t<Game {selection}/>\n\t{/if}\n</main>\n\n<style>\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n\t\tmax-width: 800px;\n\t\tmargin: 0 auto;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t}\n</style>",
    "<script>\n    import { createEventDispatcher } from 'svelte';\n    export let celeb;\n\n    const dispatch = createEventDispatcher();\n</script>\n\n<div class=\"card-outer\">\n    <button class=\"card-inner\" \n            style=\"background-image: url({celeb.image})\"\n            on:click={() => dispatch('select')}>\n        <div class=\"details\">\n            <h2>\n                <a target=\"_blank\" href=\"https://cameo.com/{celeb.id}\">{celeb.name}</a>\n            </h2>\n            <p class=\"type\">{celeb.type}</p>\n        </div>\n    </button>\n</div>\n\n<style>\n    .card-outer {\n        width: 100%;\n        height: 100%;\n    }\n\n    .card-inner {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        background: 50% 0 no-repeat;\n        background-size: cover;\n        overflow: hidden;\n        padding: 0;\n        text-align: center;\n    }\n\n    .details {\n        position: absolute;\n        width: 100%;\n        bottom: 0;\n        padding: 1em 0.5em 0.5em 0.5em;\n        background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.6) 35%, rgba(0,0,0,0.9));\n        color: white;\n    }\n\n    h2 {\n        margin: 0 0 0.2em 0;\n    }\n\n    .type {\n        margin: 0;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n\n    @media (min-width: 640px) {\n        .card-outer {\n            height: 0;\n            padding: 0 0 100% 0;\n        }\n    }\n\n</style>\n",
    "<script>\n    import Card from \"../components/Card.svelte\";\n    import { sleep } from \"../utils.js\";\nimport { select } from \"../select\";\n\n    export let selection;\n\n    const load_details = async (celeb) => {\n        const res = await fetch(`https://cameo-explorer.netlify.app/celebs/${celeb.id}.json`);\n        return await res.json();\n    }\n\n    const promise = selection.map(round => Promise.all([\n        load_details(round.a),\n        load_details(round.b)\n    ]));\n\n    const results = Array(selection.length);\n\n    let i = 0;\n    let last_result;\n\n    const submit = async (a, b, sign) => {\n        last_result = Math.sign(a.price - b.price) === sign\n            ? 'right'\n            : 'wrong';\n        console.log({ last_result });\n        \n        await sleep(1500);\n\n        results[i] = last_result;\n        last_result = null;\n\n        if (i < selection.length - 1) {\n            i += 1;\n        } else {\n            // TODO end the game\n        }\n    }\n</script>\n\n<header>\n    <p>Tap on the more monetisable celebrity's face, or tap 'same price' if society values them equally.</p>\n</header>\n\n<div class=\"game-container\">\n    {#await promise[i] then [a, b]}\n        <div class=\"game\">\n            <div class=\"card-container\">\n                <Card \n                    celeb={a}\n                    on:select={() => submit(a, b, 1)}\n                />\n            </div>\n\n            <div>\n                <button class=\"same\" on:click={() => submit(a, b, 1)}>\n                    Same Price\n                </button>\n            </div>\n\n            <div class=\"card-container\">\n                <Card\n                    celeb={b}\n                    on:select={() => submit(a, b, -1)}\n                />     \n            </div>\n        </div>\n    {:catch}\n            <p class=\"error\">Failed to load data</p>\n    {/await}\n</div>\n\n {#if last_result}\n    <img\n        class=\"giant-result\"\n        alt=\"{last_result} answer\"\n        src=\"/icons/{last_result}.svg\"\n    >\n{/if}\n\n<div class=\"results\" style=\"grid-template-columns: repeat({results.length}, 1fr)\">\n    {#each results as result}\n        <span class=\"result\">\n            {#if result}\n            <img\n                alt=\"{result} answer\"\n                src=\"/icons/{result}.svg\"\n            >\n            {/if}\n        </span>\n    {/each} \n</div> \n\n<style>\n    .game-container {\n        flex: 1;\n    }\n\n    .game {\n        display: grid;\n        grid-template-rows: 1fr 2em 1fr;\n        grid-gap: 0.5em;\n        width: 100%;\n        height: 100%;\n        max-width: min(100%, 40vh);\n    }\n\n    .game > div {\n        display: flex;\n        align-items: center;\n    }\n\n    .error {\n        color: red;\n    }\n\n    .giant-result {\n        position: fixed;\n        width: 50vmin;\n        height: 50vmin;\n        left: calc(50vw - 25vmin);\n        top: calc(50vh - 25vmin);\n        opacity: 0.5;\n    }\n  \n    .results { \n        display: grid;\n        grid-gap: 0.2em;\n        width: 100%;\n        max-width: 320px;\n        margin: 1em auto 0 auto;\n    }\n\n    .result {\n        background: rgba(255,255,255,0.1);\n        border-radius: 50%;\n        padding: 0 0 100% 0;\n        transition: background 0.2s;\n        transition-delay: 0.2s;\n    } \n\n    .result img {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n    } \n\n    @media (min-width: 640px) {\n        .game {\n            max-width: 100%;\n            grid-template-rows: none;\n            grid-template-columns: 1fr 8em 1fr;\n\n            /* work around for safari bug */\n            max-height: calc(100vh - 6em);\n        }\n    }\n</style>",
    "<script>\n    import { createEventDispatcher } from 'svelte';\n\n    const dispatch = createEventDispatcher();\n\n    let selected = false;\n\n    const select = (category) => {\n        selected = true;\n        dispatch('select', {category});\n    }\n\n    const categories = [\n        { slug: 'actors', label: 'Actors'},\n        { slug: 'athletes', label: 'Athletes'},\n        { slug: 'comedians', label: 'Comedians'},\n        { slug: 'creators', label: 'Creators'},\n        { slug: 'models', label: 'Models'},\n        { slug: 'musicians', label: 'Musicians'},\n        { slug: 'reality-tv', label: 'Reality TV'}\n    ];\n</script>\n\n\n<header>\n    <h1>\n        CameoP<span class=\"logo svelte-1fhxxll\">a</span>rison\n    </h1> \n\n    <p>\n        On <a href=\"https://cameo.com\">cameo.com</a>, you can buy personalised video clips from everyone from Lindsay Lohan to Ice T.\n    </p> \n\n    <p>But who commands the highest price?</p>\n</header>\n\n<p>Pick a category to play a game:</p>\n\n<div class=\"categories\"> \n    {#each categories as category}\n        <button disabled={selected} on:click={() => select(category)}>{category.label}</button>\n    {/each}\n</div>\n\n<style>\n    h1 {\n        color: #ff3e00;\n        text-transform: uppercase;\n        font-size: min(12vw, 4em);\n        font-weight: 100;\n        margin: 0 0 0.5em 0;\n    }\n\n    p {     \n        max-width: 24em;\n        margin: 0 auto 1em auto;\n    }\n\n    .logo {\n        display: inline-block;\n        background: url(/icons/compare.svg) 50% 50% no-repeat;\n        background-size: 100% 100%;\n        width: 0.8em;\n        top: 0.05em;\n        transform: scale(1.4);\n        left: 0.02em;\n        text-indent: -9999px;\n    }\n</style>"
  ],
  "names": [],
  "mappings": "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"
}